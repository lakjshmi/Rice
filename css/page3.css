html, body {
  height: 100%;
  -webkit-tap-highlight-color: transparent;
}

body {
  margin: 0;
  touch-action: manipulation;
}

body {
  font-family: sans-serif;
  background: radial-gradient(circle at top, #1a1a1a, #0b0b0b);
  color: #fff;
  text-align: center;
  padding: 20px;
}
h2 {
  font-size: 70px;
  font-family: "Bitcount Single", system-ui;
  font-optical-sizing: auto;
  font-weight:300;
  font-style: normal;
  font-variation-settings: "slnt" 0, "CRSV" 0.5, "ELSH" 0, "ELXP" 0;
}
.hint {
  font-size: 30px;
   font-family: "Bitcount Single", system-ui;
  font-optical-sizing: auto;
  font-weight:450;
  font-style: italic;
  font-variation-settings: "slnt" 0, "CRSV" 0.5, "ELSH" 0, "ELXP" 0;
}
/* GRID SETUP */
.path-grid {
  width: min(94vw, 520px);
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(11, 60px);
  grid-template-rows: repeat(9, 60px);
  gap: 14px;
  justify-content: center;
  
}

/* GRID AREAS FOR EACH TILE */
.r1c2 {
  grid-column: 2 / 3;
  grid-row: 1 / 2;
}
.r2c2 {
  grid-column: 2 / 3;
  grid-row: 2 / 3;
}
.r2c3 {
  grid-column: 3 / 4;
  grid-row: 2 / 3;
}
.r3c2 {
  grid-column: 2 / 3;
  grid-row: 3 / 4;
}
.r3c5 {
  grid-column: 5 / 6;
  grid-row: 3 / 4;
}
.r3c6 {
  grid-column: 6 / 7;
  grid-row: 3 / 4;
}
.r3c7 {
  grid-column: 7 / 8;
  grid-row: 3 / 4;
}
.r3c8 {
  grid-column: 8 / 9;
  grid-row: 3 / 4;
}
.r4c1 {
  grid-column: 1 / 2;
  grid-row: 4 / 5;
}
.r4c2 {
  grid-column: 2 / 3;
  grid-row: 4 / 5;
}
.r4c3 {
  grid-column: 3 / 4;
  grid-row: 4 / 5;
}
.r4c4 {
  grid-column: 4 / 5;
  grid-row: 4 / 5;
}
.r4c5 {
  grid-column: 5 / 6;
  grid-row: 4 / 5;
}
.r5c2 {
  grid-column: 2 / 3;
  grid-row: 5 / 6;
}
.r5c4 {
  grid-column: 4 / 5;
  grid-row: 5 / 6;
}
.r5c5 {
  grid-column: 5 / 6;
  grid-row: 5 / 6;
}
.r5c8 {
  grid-column: 8 / 9;
  grid-row: 5 / 6;
}
.r6c2 {
  grid-column: 2 / 3;
  grid-row: 6 / 7;
}
.r6c4 {
  grid-column: 4 / 5;
  grid-row: 6 / 7;
}
.r6c5 {
  grid-column: 5 / 6;
  grid-row: 6 / 7;
}
.r6c6 {
  grid-column: 6 / 7;
  grid-row: 6 / 7;
}
.r6c7 {
  grid-column: 7 / 8;
  grid-row: 6 / 7;
}
.r6c9 {
  grid-column: 9 / 10;
  grid-row: 6 / 7;
}
.r7c2 {
  grid-column: 2 / 3;
  grid-row: 7 / 8;
}
.r7c3 {
  grid-column: 3 / 4;
  grid-row: 7 / 8;
}
.r7c4 {
  grid-column: 4 / 5;
  grid-row: 7 / 8;
}
.r7c6 {
  grid-column: 6 / 7;
  grid-row: 7 / 8;
}
.r7c7 {
  grid-column: 7 / 8;
  grid-row: 7 / 8;
}
.r7c8 {
  grid-column: 8 / 9;
  grid-row: 7 / 8;
}
.r7c10 {
  grid-column: 10 / 11;
  grid-row: 7 / 8;
}
.r7c11 {
  grid-column: 11 / 12;
  grid-row: 7 / 8;
}
.r8c8 {
  grid-column: 8 / 9;
  grid-row: 8 / 9;
}
.r8c9 {
  grid-column: 9 / 10;
  grid-row: 8 / 9;
}
.r8c10 {
  grid-column: 10/11;
  grid-row: 8/9;
}
.r9c8 {
  grid-column: 8 / 9;
  grid-row: 9 / 10;
}

.r9c10 {
  grid-column: 10 / 11;
  grid-row: 9 / 10;
}

/* TILE STYLING */
/* TILE STYLING – LED NODES */
.tile {
  width: 100%;
  aspect-ratio: 1;
  height: 56px;
  position: relative;
  border-radius: 14px;

  /* Platform layers */
  background: linear-gradient(#2a2a2a, #111);

  box-shadow: inset 0 3px 0 #3a3a3a, /* top edge */ inset 0 -4px 0 #000,
    /* bottom depth */ 0 8px 0 #000,
    /* platform lift */ 0 14px 20px rgba(0, 0, 0, 0.8);

  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 0; /*base*/
  font-size: 26px;
  color: #fff;
}
.tile span.emoji {
  position: relative;
  z-index: 2; /* above glow */
  font-size: 70px; /* make humungous */
  margin-bottom: 35px;
}
.tile span.emojis {
  position: relative;
  z-index: 2; /* above glow */
  font-size: 50px; /* make humungous */
  margin-bottom: 20px;
  margin-left: 2px;
}
/* INTERNAL ENERGY CORE (between layers) */
.tile::before {
  content: "";
  position: absolute;
  inset: 6px;
  border-radius: 10px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s ease;
}
/* ON TILE — blue glow replaces lift shadow */
.tile.active {
  box-shadow: inset 0 3px 0 #4a4a4a, inset 0 -4px 0 #000,
    0 0 6px rgba(0, 200, 255, 0.6), 0 0 14px rgba(0, 200, 255, 0.9),
    0 0 26px rgba(0, 200, 255, 0.8);
}

/* REMOVE outer ring glow */
.tile.active::after {
  opacity: 0;
}

/* SELECTED + ON — strongest glow */
.tile.active.selected {
  box-shadow: inset 0 3px 0 #5a5a5a, inset 0 -4px 0 #000,
    0 0 10px rgba(0, 220, 255, 0.9), 0 0 24px rgba(0, 220, 255, 1),
    0 0 40px rgba(0, 220, 255, 1);
}

/* ON TILE – internal color glow */
.tile.active::before {
  opacity: 1;
  background: radial-gradient(
    circle at top,
    rgba(0, 220, 255, 0.9),
    rgba(0, 180, 220, 0.6) 40%,
    rgba(0, 120, 160, 0.3) 65%,
    transparent 75%
  );

  box-shadow: inset 0 0 8px rgba(0, 220, 255, 0.8),
    inset 0 -6px 12px rgba(0, 0, 0, 0.8);
}

/* START TILE – GREEN CORE */
.tile.start::before {
  opacity: 1;
  background: radial-gradient(
    circle at top,
    rgba(120, 255, 160, 0.9),
    rgba(80, 200, 120, 0.5),
    transparent 70%
  );
}
/* EMOJI LAYER – always above glow */
.tile .emoji {
  position: relative;
  z-index: 5;
  font-size: 52px; /* humungous */
  transform: translateY(-8px);
  pointer-events: auto;
}
/* END TILE TOOLTIP */
.tile.end::after {
  content: "Homasandrapalya";
  position: absolute;
  bottom: 110%;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.85);
  color: #fff;
  font-size: 25px;
  padding: 6px 10px;
  border-radius: 8px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease, transform 0.2s ease;
  z-index: 10;
  font-family: "Bitcount Single", system-ui;
  font-optical-sizing: auto;
  font-weight:450;
  font-style: normal;
  font-variation-settings: "slnt" 0, "CRSV" 0.5, "ELSH" 0, "ELXP" 0;
}

/* SHOW ON HOVER */
.tile.end:hover::after {
  opacity: 1;
  transform: translateX(-50%) translateY(-4px);
}

/* END TILE – PINK CORE */
.tile.end::before {
  opacity: 1;
  background: radial-gradient(
    circle at top,
    rgba(255, 100, 160, 0.95),
    rgba(200, 60, 120, 0.6),
    transparent 70%
  );
}

.tile.selected {
  transform: translateY(-3px);
  box-shadow: inset 0 3px 0 #4a4a4a, inset 0 -4px 0 #000, 0 11px 0 #000,
    0 18px 26px rgba(0, 0, 0, 0.9);
}

.tile.selected::before {
  content: "";
  position: absolute;
  inset: 4px;
  border-radius: 10px;
  box-shadow: inset 0 0 0 2px #00e5ff, inset 0 0 10px rgba(0, 229, 255, 0.6);
} /* SELECTED TILE — thin blue outline + glow */
.tile.selected {
  transform: translateY(-2px);
  box-shadow: inset 0 2px 0 #3a3a3a, inset 0 -3px 0 #000,
    0 6px 10px rgba(0, 180, 255, 0.45);
}

/* SELECTED BUT OFF */
.tile.selected:not(.active)::before {
  content: "";
  position: absolute;
  inset: 5px;
  border-radius: 10px;
  box-shadow: inset 0 0 0 2px rgba(0, 200, 255, 0.85);
  opacity: 1;
}

/* SELECTED + ON (stronger blue glow) */
.tile.active.selected {
  box-shadow: inset 0 2px 0 #4a4a4a, inset 0 -3px 0 #000,
    0 0 6px rgba(0, 200, 255, 0.6), 0 0 14px rgba(0, 200, 255, 0.9);
}

/* LEVER */
/* =========================
   CUTE 3D TOGGLE SWITCH
   ========================= */

/* CONTAINER */
.lever-container {
  margin-top: 40px;
  display: flex;
  justify-content: center;
}

/* SWITCH BASE */
#lever {
  width: 120px;
  height: 48px;
  border-radius: 30px;
  border: none;
  cursor: pointer;
  position: relative;

  background: linear-gradient(#2b2b2b, #111);
  box-shadow: inset 0 2px 3px rgba(255, 255, 255, 0.15),
    inset 0 -3px 6px rgba(0, 0, 0, 0.8), 0 10px 18px rgba(0, 0, 0, 0.6);

  transition: background 0.25s;
}

/* SLIDER KNOB */
#lever::before {
  content: "";
  position: absolute;
  top: 4px;
  left: 6px;

  width: 40px;
  height: 40px;
  border-radius: 50%;

  background: linear-gradient(#f5f5f5, #bdbdbd);
  box-shadow: inset 0 2px 2px rgba(255, 255, 255, 0.9),
    inset 0 -3px 4px rgba(0, 0, 0, 0.4), 0 6px 10px rgba(0, 0, 0, 0.7);

  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

/* LABEL */
#lever::after {
  content: "ON";
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;

  font-weight: bold;
  letter-spacing: 1px;
  font-size: 14px;
  color: #00e5ff;
  pointer-events: none;
}

/* ON STATE */
#lever.on {
  background: linear-gradient(#003a4a, #001c22);
}

#lever.on::before {
  transform: translateX(68px);
  box-shadow: inset 0 2px 2px rgba(255, 255, 255, 0.9),
    inset 0 -3px 4px rgba(0, 0, 0, 0.4), 0 0 12px rgba(0, 200, 255, 0.9);
}

#lever.on::after {
  content: "OFF";
  color: #ff6b6b;
}

/* PRESS FEEDBACK */
#lever:active::before {
  transform: translateX(68px) scale(0.95);
}

/* MODAL */
#overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.45);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}
.hidden {
  display: none !important;
}
.modal {
  background: white;
  padding: 28px;
  border-radius: 18px;
  min-width: 260px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
}
/* FIX MODAL TEXT VISIBILITY */
.modal {
  color: #111;
}

.modal h3 {
  color: #111;
}

.modal p {
  color: #333;
}
